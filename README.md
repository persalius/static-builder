# Landing Static Builder

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ –ª–µ–Ω–¥–∏–Ω–≥–æ–≤ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç–∏ –∫ –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–∞–º:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (.env)

```bash
LANDING_PAGE_PATH=../../vite-landing-project  # –ü—É—Ç—å –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É
TEMPLATES_PATH=../../templates                # –ü—É—Ç—å –∫ —à–∞–±–ª–æ–Ω–∞–º
```

### –ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä

```bash
LANDING_PAGE_PATH=./app/landing-project       # –í–Ω—É—Ç—Ä–∏ app/
TEMPLATES_PATH=./app/templates                # –í–Ω—É—Ç—Ä–∏ app/
```

### 2. –ó–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
npm run preview
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–í —Ñ–∞–π–ª–µ `app/config.json` —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```json
{
  "gtmId": "GTM-XXXXXXX"
}
```

–ï—Å–ª–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–µ—Ç—É - –≤—ã –º–æ–∂–µ—Ç–µ –µ–≥–æ —Å–æ–∑–¥–∞—Ç—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```json
{}
```

–°–≤–æ–π—Å—Ç–≤–∞ config.json:

`gtmId`: –≤ HTML –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç –∏ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã Google Tag Manager –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
landing-builder/
‚îú‚îÄ‚îÄ .env                 ‚Üê –í–∞—à–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏
‚îú‚îÄ‚îÄ .env.example         ‚Üê –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ app/                 ‚Üê –ü–∞–ø–∫–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ + —Ñ–∞–π–ª config
‚îÇ   ‚îú‚îÄ‚îÄ landing-project/
‚îÇ   ‚îú‚îÄ‚îÄ config.json      ‚Üê –ö–æ–Ω—Ñ–∏–≥ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ templates/
‚îú‚îÄ‚îÄ dist/                ‚Üê –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ src/                 ‚Üê –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±–∏–ª–¥–µ—Ä–∞ –∏ –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ config/          ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite –∏ –ø—É—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ constants/       ‚Üê –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ plugins/         ‚Üê –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è Vite
‚îÇ   ‚îú‚îÄ‚îÄ scripts/         ‚Üê –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞, —Å–±–æ—Ä–∫–∏, –ø—Ä–µ–≤—å—é
‚îÇ   ‚îî‚îÄ‚îÄ utils/           ‚Üê –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ ...
```

## üß© –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ (HTML, SCSS, JS)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ì–∏–±–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ src –∏ templates
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è Vite
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .env –¥–ª—è –ø—É—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è landing page
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Tag Manager: –µ—Å–ª–∏ –≤ `app/config.json` —É–∫–∞–∑–∞–Ω `gtmId`, –≤ HTML –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–µ—Å—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã GTM.

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **HTML-—Ñ–∞–π–ª—ã landing page, –∏–º—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–∞ `_`, –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ build.**

## üì¶ –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã template.json –¥–ª—è —à–∞–±–ª–æ–Ω–∞

```json
{
  "name": "header",
  "entry": "template/index.html",
  "styles": ["template/css/index.scss"],
  "_comments": {
    "scripts": {
      "file": "template/js/*.js",
      "container": "head | body",
      "position": "start | end | comment",
      "targetComment": "if position is comment, specify the target comment"
    }
  },
  "scripts": [
    {
      "file": "template/js/index.js",
      "container": "body",
      "position": "end"
    },
    {
      "file": "template/js/cookies.js",
      "position": "comment",
      "targetComment": "cookie-modal"
    }
  ]
}
```

**–ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –ø–æ–ª—è–º:**

- `name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ)
- `entry` ‚Äî –ø—É—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É HTML-—Ñ–∞–π–ª—É —à–∞–±–ª–æ–Ω–∞
- `styles` ‚Äî –º–∞—Å—Å–∏–≤ SCSS/—Å—Ç–∏–ª–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- `scripts` ‚Äî –º–∞—Å—Å–∏–≤ JS-—Å–∫—Ä–∏–ø—Ç–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
  - `file` ‚Äî –ø—É—Ç—å –∫ JS-—Ñ–∞–π–ª—É
  - `container` ‚Äî –∫—É–¥–∞ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Å–∫—Ä–∏–ø—Ç (`head`, `body`)
  - `position` ‚Äî –ø–æ–∑–∏—Ü–∏—è –≤—Å—Ç–∞–≤–∫–∏ (`start`, `end`, `comment`)
  - `targetComment` ‚Äî –µ—Å–ª–∏ `position` = `comment`, —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ü–µ–ª–µ–≤–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `_comments.scripts` ‚Äî –ø–æ—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å—Ç–∞–≤–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

## üè∑Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ data-–∞—Ç—Ä–∏–±—É—Ç–æ–≤ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤

- –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º:
  ```html
  <div data-template="templateName" ...></div>
  ```
  –≥–¥–µ `templateName` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —à–∞–±–ª–æ–Ω–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª—é `name` –≤ `template.json`.
- –í—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ data-–∞—Ç—Ä–∏–±—É—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `data-title`, `data-button`) –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —à–∞–±–ª–æ–Ω: –≤ —à–∞–±–ª–æ–Ω–Ω–æ–º HTML –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤–∏–¥–∞ `{{title}}`, `{{button}}`.
- –ê—Ç—Ä–∏–±—É—Ç `data-template` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–∏–ª–¥–µ—Äa.
- –ü—Ä–∏–º–µ—Ä:
  ```html
  <div data-template="header" data-title="–ó–∞–≥–æ–ª–æ–≤–æ–∫" data-button="–ü–æ–¥—Ä–æ–±–Ω–µ–µ"></div>
  ```
  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–µ:
  ```html
  <h1>{{title}}</h1>
  <button>{{button}}</button>
  ```

## –°–±–æ—Ä–∫–∞ –¥–ª—è WebContainer (build:app)

–ö–æ–º–∞–Ω–¥–∞ `npm run build:app` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ WebContainer.

### –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å

- –ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª `webcontainer-structure.js`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ä–µ–¥—ã WebContainer.

### –≠—Ç–∞–ø—ã —Å–±–æ—Ä–∫–∏

1. **–û—á–∏—Å—Ç–∫–∞ –ø–∞–ø–∫–∏ build**
   - –°–∫—Ä–∏–ø—Ç `clean:build-app` —É–¥–∞–ª—è–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–±–æ—Ä–∫—É.
2. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞**
   - TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `src` (–∫—Ä–æ–º–µ —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å–±–æ—Ä–∫–∏) –≤ `build`.
3. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤**
   - –°–∫—Ä–∏–ø—Ç `copy-files:build-app` –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.
4. **–£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Å–ª—É–∂–µ–±–Ω—ã—Ö –ø–∞–ø–æ–∫**
   - –°–∫—Ä–∏–ø—Ç `remove-empty-folders:build-app` —É–¥–∞–ª—è–µ—Ç –ø—É—Å—Ç—ã–µ –ø–∞–ø–∫–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ TypeScript.
5. **–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è WebContainer**
   - –°–∫—Ä–∏–ø—Ç `webcontainer:export` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç JS-–º–æ–¥—É–ª—å —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç `.env`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- –í –ø–∞–ø–∫–µ `build` –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª `webcontainer-structure.js`, —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ src –∏ package.json —Å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ WebContainer.
- –í build –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥—ã `npm run build:app`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `src/scripts/build-app`.
- –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ä–µ–¥—ã WebContainer.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**

```sh
npm run build:app
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ä–µ–¥—ã –¥–ª—è WebContainer.
- –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤.
- –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±–ª–∞—á–Ω—ã–º–∏ —Å—Ä–µ–¥–∞–º–∏ –∏ WebContainer.
